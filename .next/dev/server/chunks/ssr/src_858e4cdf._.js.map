{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/emiis/Desktop/Development/Eventos/eventos-2026/src/components/UploadExcel.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport * as XLSX from \"xlsx\";\r\nimport { useState, useRef } from \"react\";\r\nimport { useEventsContext } from \"@/app/context/eventsContext\";\r\nimport \"@/app/css/upload-excel.css\";\r\n\r\nexport default function UploadExcel() {\r\n  const { salvarFirebase, excluirTodosDados, loading, eventosTodos } =\r\n    useEventsContext();\r\n\r\n  const [file, setFile] = useState<File | null>(null);\r\n  const [status, setStatus] = useState<\"idle\" | \"loading\" | \"success\" | \"error\">(\r\n    \"idle\"\r\n  );\r\n  const [mensagem, setMensagem] = useState(\"\");\r\n  const [confirmDelete, setConfirmDelete] = useState(false);\r\n  const [dragActive, setDragActive] = useState(false);\r\n\r\n  // Estados para verifica칞칚o de duplicados\r\n  const [dadosProcessados, setDadosProcessados] = useState<{\r\n    todos: any[];\r\n    unicos: any[];\r\n  } | null>(null);\r\n  const [duplicados, setDuplicados] = useState<any[]>([]);\r\n  const [mostrarModalDuplicados, setMostrarModalDuplicados] = useState(false);\r\n\r\n  const fileInputRef = useRef<HTMLInputElement>(null);\r\n\r\n  // Valida칞칚o de arquivo\r\n  const validarArquivo = (arquivo: File): string | null => {\r\n    // Verifica extens칚o\r\n    const extensoesValidas = [\".xlsx\", \".xls\"];\r\n    const extensao = arquivo.name.substring(arquivo.name.lastIndexOf(\".\"));\r\n\r\n    if (!extensoesValidas.includes(extensao.toLowerCase())) {\r\n      return \"Formato inv치lido! Use apenas arquivos .xlsx ou .xls\";\r\n    }\r\n\r\n    // Verifica tamanho (m치ximo 10MB)\r\n    const tamanhoMaximo = 10 * 1024 * 1024; // 10MB\r\n    if (arquivo.size > tamanhoMaximo) {\r\n      return \"Arquivo muito grande! Tamanho m치ximo: 10MB\";\r\n    }\r\n\r\n    // Verifica se o arquivo n칚o est치 vazio\r\n    if (arquivo.size === 0) {\r\n      return \"Arquivo vazio! Selecione um arquivo v치lido\";\r\n    }\r\n\r\n    return null; // Arquivo v치lido\r\n  };\r\n\r\n  // Fun칞칚o para verificar duplicados\r\n  const verificarDuplicados = (novosDados: any[]) => {\r\n    if (!eventosTodos || eventosTodos.length === 0) {\r\n      return { duplicados: [], dadosUnicos: novosDados };\r\n    }\r\n\r\n    const duplicadosEncontrados: any[] = [];\r\n    const dadosUnicos: any[] = [];\r\n\r\n    novosDados.forEach((novoEvento, index) => {\r\n      // Verifica se existe um evento com as mesmas propriedades principais\r\n      const isDuplicado = eventosTodos.some((eventoExistente: any) => {\r\n        // CUSTOMIZE AQUI: Defina os campos que identificam um duplicado\r\n        const nomeIgual = String(eventoExistente.Nome || \"\").toLowerCase().trim() === \r\n                         String(novoEvento.Nome || \"\").toLowerCase().trim();\r\n        \r\n        const dataIgual = String(eventoExistente[\"Data Inicial\"] || \"\").trim() === \r\n                         String(novoEvento[\"Data Inicial\"] || \"\").trim();\r\n        \r\n        const localIgual = String(eventoExistente.Local || \"\").toLowerCase().trim() === \r\n                          String(novoEvento.Local || \"\").toLowerCase().trim();\r\n\r\n        // Considera duplicado se TODOS os campos principais coincidirem\r\n        return nomeIgual && dataIgual && localIgual;\r\n      });\r\n\r\n      if (isDuplicado) {\r\n        duplicadosEncontrados.push({ \r\n          ...novoEvento, \r\n          linhaOriginal: index + 2 // +2 porque linha 1 칠 cabe칞alho e index come칞a em 0\r\n        });\r\n      } else {\r\n        dadosUnicos.push(novoEvento);\r\n      }\r\n    });\r\n\r\n    return { duplicados: duplicadosEncontrados, dadosUnicos };\r\n  };\r\n\r\n  const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const selectedFile = e.target.files?.[0] || null;\r\n\r\n    if (selectedFile) {\r\n      const erro = validarArquivo(selectedFile);\r\n\r\n      if (erro) {\r\n        setStatus(\"error\");\r\n        setMensagem(erro);\r\n        setFile(null);\r\n        return;\r\n      }\r\n\r\n      setFile(selectedFile);\r\n      setStatus(\"idle\");\r\n      setMensagem(\"\");\r\n      setDadosProcessados(null);\r\n      setDuplicados([]);\r\n    }\r\n  };\r\n\r\n  // Drag and Drop\r\n  const handleDrag = (e: React.DragEvent) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n\r\n    if (e.type === \"dragenter\" || e.type === \"dragover\") {\r\n      setDragActive(true);\r\n    } else if (e.type === \"dragleave\") {\r\n      setDragActive(false);\r\n    }\r\n  };\r\n\r\n  const handleDrop = (e: React.DragEvent) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    setDragActive(false);\r\n\r\n    if (e.dataTransfer.files && e.dataTransfer.files[0]) {\r\n      const droppedFile = e.dataTransfer.files[0];\r\n      const erro = validarArquivo(droppedFile);\r\n\r\n      if (erro) {\r\n        setStatus(\"error\");\r\n        setMensagem(erro);\r\n        setFile(null);\r\n        return;\r\n      }\r\n\r\n      setFile(droppedFile);\r\n      setStatus(\"idle\");\r\n      setMensagem(\"\");\r\n      setDadosProcessados(null);\r\n      setDuplicados([]);\r\n    }\r\n  };\r\n\r\n  const handleButtonClick = () => {\r\n    fileInputRef.current?.click();\r\n  };\r\n\r\n  const processarArquivo = async () => {\r\n    if (!file) {\r\n      setStatus(\"error\");\r\n      setMensagem(\"Selecione um arquivo antes de processar\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setStatus(\"loading\");\r\n      setMensagem(\"Processando arquivo... Isso pode levar alguns segundos\");\r\n\r\n      const buffer = await file.arrayBuffer();\r\n      const workbook = XLSX.read(buffer, { cellDates: true });\r\n      \r\n      // Verifica se h치 pelo menos uma planilha\r\n      if (workbook.SheetNames.length === 0) {\r\n        throw new Error(\"Arquivo sem planilhas v치lidas\");\r\n      }\r\n\r\n      const sheet = workbook.Sheets[workbook.SheetNames[0]];\r\n      const json = XLSX.utils.sheet_to_json(sheet, { defval: \"\" });\r\n\r\n      // Valida칞칫es adicionais\r\n      if (json.length === 0) {\r\n        setStatus(\"error\");\r\n        setMensagem(\"Planilha vazia! Adicione dados antes de fazer upload.\");\r\n        return;\r\n      }\r\n\r\n      if (json.length > 10000) {\r\n        setStatus(\"error\");\r\n        setMensagem(\r\n          \"Muitos dados! M치ximo de 10.000 linhas. Seu arquivo tem \" +\r\n            json.length +\r\n            \" linhas.\"\r\n        );\r\n        return;\r\n      }\r\n\r\n      // Verifica se h치 colunas\r\n      const primeiraLinha: any = json[0];\r\n      if (Object.keys(primeiraLinha).length === 0) {\r\n        setStatus(\"error\");\r\n        setMensagem(\"Arquivo sem colunas v치lidas!\");\r\n        return;\r\n      }\r\n\r\n      // Verifica duplicados\r\n      const { duplicados: duplicadosEncontrados, dadosUnicos } = verificarDuplicados(json);\r\n\r\n      setDadosProcessados({ todos: json, unicos: dadosUnicos });\r\n      setDuplicados(duplicadosEncontrados);\r\n\r\n      // Se encontrou duplicados, mostra o modal\r\n      if (duplicadosEncontrados.length > 0) {\r\n        setMostrarModalDuplicados(true);\r\n        setStatus(\"idle\");\r\n        setMensagem(\"\");\r\n      } else {\r\n        // Se n칚o h치 duplicados, salva direto\r\n        await confirmarSalvamento(dadosUnicos);\r\n      }\r\n\r\n    } catch (error) {\r\n      setStatus(\"error\");\r\n      setMensagem(\r\n        `Erro ao processar arquivo: ${\r\n          error instanceof Error ? error.message : \"Erro desconhecido\"\r\n        }`\r\n      );\r\n      console.error(\"Erro detalhado:\", error);\r\n    }\r\n  };\r\n\r\n  const confirmarSalvamento = async (dados: any[]) => {\r\n    try {\r\n      setStatus(\"loading\");\r\n      setMensagem(\"Salvando dados no Firebase...\");\r\n      setMostrarModalDuplicados(false);\r\n\r\n      await salvarFirebase(dados);\r\n\r\n      setStatus(\"success\");\r\n      setMensagem(`Upload conclu칤do! ${dados.length} eventos salvos com sucesso.`);\r\n\r\n      setTimeout(() => {\r\n        setFile(null);\r\n        setStatus(\"idle\");\r\n        setMensagem(\"\");\r\n        setDadosProcessados(null);\r\n        setDuplicados([]);\r\n      }, 5000);\r\n    } catch (error) {\r\n      setStatus(\"error\");\r\n      setMensagem(\r\n        `Erro ao salvar: ${\r\n          error instanceof Error ? error.message : \"Erro desconhecido\"\r\n        }`\r\n      );\r\n    }\r\n  };\r\n\r\n  const salvarComDuplicados = async () => {\r\n    if (dadosProcessados) {\r\n      await confirmarSalvamento(dadosProcessados.todos);\r\n    }\r\n  };\r\n\r\n  const salvarSemDuplicados = async () => {\r\n    if (dadosProcessados) {\r\n      await confirmarSalvamento(dadosProcessados.unicos);\r\n    }\r\n  };\r\n\r\n  const handleExcluirDados = async () => {\r\n    if (!confirmDelete) {\r\n      setConfirmDelete(true);\r\n      setTimeout(() => setConfirmDelete(false), 5000);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setStatus(\"loading\");\r\n      setMensagem(\"Excluindo todos os dados...\");\r\n\r\n      await excluirTodosDados();\r\n\r\n      setStatus(\"success\");\r\n      setMensagem(\"Todos os dados foram exclu칤dos com sucesso!\");\r\n      setConfirmDelete(false);\r\n\r\n      setTimeout(() => {\r\n        setStatus(\"idle\");\r\n        setMensagem(\"\");\r\n      }, 3000);\r\n    } catch (error) {\r\n      setStatus(\"error\");\r\n      setMensagem(\r\n        `Erro ao excluir dados: ${\r\n          error instanceof Error ? error.message : \"Erro desconhecido\"\r\n        }`\r\n      );\r\n    }\r\n  };\r\n\r\n  const formatarTamanho = (bytes: number): string => {\r\n    if (bytes < 1024) return bytes + \" B\";\r\n    if (bytes < 1024 * 1024) return (bytes / 1024).toFixed(2) + \" KB\";\r\n    return (bytes / (1024 * 1024)).toFixed(2) + \" MB\";\r\n  };\r\n\r\n  return (\r\n    <div className=\"upload-container\">\r\n      {/* Input escondido */}\r\n      <input\r\n        ref={fileInputRef}\r\n        type=\"file\"\r\n        accept=\".xlsx,.xls\"\r\n        onChange={handleFileChange}\r\n        style={{ display: \"none\" }}\r\n      />\r\n\r\n      {/* 츼rea de drag and drop / clique */}\r\n      <div\r\n        onClick={handleButtonClick}\r\n        onDragEnter={handleDrag}\r\n        onDragLeave={handleDrag}\r\n        onDragOver={handleDrag}\r\n        onDrop={handleDrop}\r\n        className={`upload-area ${file ? \"upload-area-success\" : \"\"} ${\r\n          dragActive ? \"upload-area-drag\" : \"\"\r\n        }`}\r\n      >\r\n        <div className=\"upload-icon\">\r\n          {file ? (\r\n            <i className=\"ri-checkbox-circle-line\"></i>\r\n          ) : dragActive ? (\r\n            <i className=\"ri-download-cloud-line\"></i>\r\n          ) : (\r\n            <i className=\"ri-upload-cloud-2-line\"></i>\r\n          )}\r\n        </div>\r\n\r\n        {file ? (\r\n          <div className=\"upload-file-info\">\r\n            <p className=\"upload-filename\">\r\n              <i className=\"ri-file-excel-2-line\"></i>\r\n              {file.name}\r\n            </p>\r\n            <p className=\"upload-filesize\">\r\n              <i className=\"ri-database-2-line\"></i>\r\n              {formatarTamanho(file.size)}\r\n            </p>\r\n            <p className=\"upload-hint\">Clique para selecionar outro arquivo</p>\r\n          </div>\r\n        ) : (\r\n          <div className=\"upload-placeholder\">\r\n            <p className=\"upload-title\">\r\n              {dragActive\r\n                ? \"Solte o arquivo aqui\"\r\n                : \"Clique para selecionar arquivo\"}\r\n            </p>\r\n            <p className=\"upload-subtitle\">ou arraste e solte aqui</p>\r\n            <p className=\"upload-formats\">\r\n              Formatos aceitos: .xlsx, .xls\r\n            </p>\r\n            <p className=\"upload-limit\">\r\n              Tamanho m치ximo: 10MB\r\n            </p>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Bot칫es de A칞칚o */}\r\n      <div className=\"upload-actions\">\r\n        <button\r\n          onClick={processarArquivo}\r\n          disabled={loading || !file}\r\n          className=\"btn-processar\"\r\n        >\r\n          {loading ? (\r\n            <>\r\n              <i className=\"ri-loader-4-line spinner-icon\"></i>\r\n              Processando...\r\n            </>\r\n          ) : (\r\n            <>\r\n              <i className=\"ri-rocket-line\"></i>\r\n              Processar Upload\r\n            </>\r\n          )}\r\n        </button>\r\n\r\n        {eventosTodos && eventosTodos.length > 0 && (\r\n          <button\r\n            onClick={handleExcluirDados}\r\n            disabled={loading}\r\n            className={`btn-excluir ${confirmDelete ? \"btn-excluir-confirm\" : \"\"}`}\r\n          >\r\n            {confirmDelete ? (\r\n              <>\r\n                <i className=\"ri-alert-line\"></i>\r\n                Confirmar Exclus칚o\r\n              </>\r\n            ) : (\r\n              <>\r\n                <i className=\"ri-delete-bin-2-line\"></i>\r\n                Excluir Todos os Dados\r\n              </>\r\n            )}\r\n          </button>\r\n        )}\r\n      </div>\r\n\r\n      {/* Aviso de confirma칞칚o */}\r\n      {confirmDelete && (\r\n        <div className=\"alerta-confirmacao\">\r\n          <i className=\"ri-error-warning-line alerta-icon\"></i>\r\n          <div>\r\n            <strong>ATEN칂츾O:</strong> Esta a칞칚o 칠 irrevers칤vel! Clique novamente\r\n            no bot칚o vermelho para confirmar a exclus칚o de todos os dados.\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Mensagem de status */}\r\n      {status !== \"idle\" && (\r\n        <div className={`alerta alerta-${status}`}>\r\n          <i className={`alerta-icon ${\r\n            status === \"error\" ? \"ri-error-warning-line\" : \r\n            status === \"success\" ? \"ri-checkbox-circle-line\" : \r\n            \"ri-information-line\"\r\n          }`}></i>\r\n          {mensagem}\r\n        </div>\r\n      )}\r\n\r\n      {/* Modal de Duplicados */}\r\n      {mostrarModalDuplicados && (\r\n        <div className=\"modal-duplicados-overlay\">\r\n          <div className=\"modal-duplicados-content\">\r\n            <div className=\"modal-duplicados-header\">\r\n              <h2>\r\n                <i className=\"ri-error-warning-line\"></i>\r\n                Dados Duplicados Encontrados\r\n              </h2>\r\n              <p>\r\n                Foram encontrados <strong>{duplicados.length}</strong> registros duplicados.\r\n                Escolha como deseja proceder:\r\n              </p>\r\n            </div>\r\n\r\n            <div className=\"modal-duplicados-body\">\r\n              <div className=\"duplicados-resumo\">\r\n                <p><strong>游늵 Resumo:</strong></p>\r\n                <ul>\r\n                  <li>Total de registros no arquivo: <strong>{dadosProcessados?.todos.length || 0}</strong></li>\r\n                  <li>Registros duplicados: <strong className=\"texto-vermelho\">{duplicados.length}</strong></li>\r\n                  <li>Registros 칰nicos: <strong className=\"texto-verde\">{dadosProcessados?.unicos.length || 0}</strong></li>\r\n                </ul>\r\n              </div>\r\n\r\n              <div className=\"duplicados-lista\">\r\n                <h3>Registros Duplicados:</h3>\r\n                <div className=\"tabela-duplicados-wrapper\">\r\n                  <table className=\"tabela-duplicados\">\r\n                    <thead>\r\n                      <tr>\r\n                        <th>Linha</th>\r\n                        <th>Nome</th>\r\n                        <th>Data Inicial</th>\r\n                        <th>Local</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      {duplicados.map((dup, index) => (\r\n                        <tr key={index}>\r\n                          <td>{dup.linhaOriginal}</td>\r\n                          <td>{dup.Nome}</td>\r\n                          <td>{dup[\"Data Inicial\"]}</td>\r\n                          <td>{dup.Local}</td>\r\n                        </tr>\r\n                      ))}\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"modal-duplicados-acoes\">\r\n                <button onClick={salvarSemDuplicados} className=\"btn-salvar-unicos\">\r\n                  <i className=\"ri-check-line\"></i>\r\n                  Salvar Apenas 칔nicos ({dadosProcessados?.unicos.length || 0})\r\n                </button>\r\n\r\n                <button onClick={salvarComDuplicados} className=\"btn-salvar-todos\">\r\n                  <i className=\"ri-flash-line\"></i>\r\n                  Salvar Tudo ({dadosProcessados?.todos.length || 0})\r\n                </button>\r\n\r\n                <button\r\n                  onClick={() => {\r\n                    setMostrarModalDuplicados(false);\r\n                    setDadosProcessados(null);\r\n                    setDuplicados([]);\r\n                  }}\r\n                  className=\"btn-cancelar\"\r\n                >\r\n                  <i className=\"ri-close-line\"></i>\r\n                  Cancelar\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 868, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/emiis/Desktop/Development/Eventos/eventos-2026/src/components/Filtros.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEventsContext } from \"@/app/context/eventsContext\";\r\nimport { useState, useMemo } from \"react\";\r\nimport \"@/app/css/filtros.css\";\r\n\r\nexport default function Filtros() {\r\n  const { eventos, eventosTodos, colunas, setFiltros, filtros } = useEventsContext();\r\n\r\n  const [colunaSelecionada, setColunaSelecionada] = useState<string>(\"\");\r\n  const [valorSelecionado, setValorSelecionado] = useState<string>(\"\");\r\n  const [textoBusca, setTextoBusca] = useState<string>(\"\");\r\n  const [buscaGlobal, setBuscaGlobal] = useState<string>(\"\");\r\n\r\n  // Valores 칰nicos da coluna selecionada\r\n  const valoresUnicos = useMemo(() => {\r\n    if (!colunaSelecionada || !eventosTodos?.length) return [];\r\n\r\n    const valores = new Set<string>();\r\n    eventosTodos.forEach((evento: { [x: string]: any }) => {\r\n      const valor = evento[colunaSelecionada];\r\n      if (valor) valores.add(String(valor));\r\n    });\r\n\r\n    return Array.from(valores).sort();\r\n  }, [colunaSelecionada, eventosTodos]);\r\n\r\n  // Aplica filtros quando usu치rio seleciona\r\n  const aplicarFiltros = () => {\r\n    if (!colunaSelecionada && !buscaGlobal) {\r\n      alert(\"丘멆잺 Selecione pelo menos um filtro ou fa칞a uma busca!\");\r\n      return;\r\n    }\r\n\r\n    setFiltros({\r\n      coluna: colunaSelecionada,\r\n      valor: valorSelecionado,\r\n      busca: buscaGlobal,\r\n    });\r\n  };\r\n\r\n  const limparFiltros = () => {\r\n    setColunaSelecionada(\"\");\r\n    setValorSelecionado(\"\");\r\n    setTextoBusca(\"\");\r\n    setBuscaGlobal(\"\");\r\n    setFiltros({ coluna: \"\", valor: \"\", busca: \"\" });\r\n  };\r\n\r\n  const selecionarTodos = () => {\r\n    setValorSelecionado(\"\");\r\n    setBuscaGlobal(\"\");\r\n    setFiltros({\r\n      coluna: colunaSelecionada,\r\n      valor: \"\",\r\n      busca: \"\",\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"filtros-container\">\r\n      {/* Busca Global */}\r\n      <div className=\"busca-global-section\">\r\n        <h3 className=\"section-subtitle\">\r\n          <i className=\"ri-search-line\"></i>\r\n          Busca Global\r\n        </h3>\r\n        <div className=\"busca-input-group\">\r\n          <i className=\"ri-search-2-line input-icon\"></i>\r\n          <input\r\n            type=\"text\"\r\n            value={buscaGlobal}\r\n            onChange={(e) => setBuscaGlobal(e.target.value)}\r\n            placeholder=\"Digite para buscar em todos os campos...\"\r\n            className=\"busca-input\"\r\n            onKeyPress={(e) => {\r\n              if (e.key === \"Enter\") aplicarFiltros();\r\n            }}\r\n          />\r\n          {buscaGlobal && (\r\n            <button\r\n              onClick={() => setBuscaGlobal(\"\")}\r\n              className=\"clear-search-btn\"\r\n              title=\"Limpar busca\"\r\n            >\r\n              <i className=\"ri-close-line\"></i>\r\n            </button>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Filtro por Categoria */}\r\n      <div className=\"filtro-categoria-section\">\r\n        <h3 className=\"section-subtitle\">\r\n          <i className=\"ri-filter-3-line\"></i>\r\n          Filtrar por Categoria\r\n        </h3>\r\n\r\n        <div className=\"filtros-grid\">\r\n          <div className=\"form-group\">\r\n            <label className=\"form-label\">\r\n              Selecione a coluna:\r\n            </label>\r\n            <select\r\n              value={colunaSelecionada}\r\n              onChange={(e) => {\r\n                setColunaSelecionada(e.target.value);\r\n                setValorSelecionado(\"\");\r\n              }}\r\n              className=\"form-select\"\r\n            >\r\n              <option value=\"\">Nenhum filtro (Vis칚o Geral)</option>\r\n              {colunas?.map((col: string) => (\r\n                <option key={col} value={col}>\r\n                  {col}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n\r\n          {colunaSelecionada && valoresUnicos.length > 0 && (\r\n            <div className=\"form-group\">\r\n              <label className=\"form-label\">\r\n                <i className=\"ri-checkbox-multiple-line\"></i>\r\n                Selecione o valor:\r\n              </label>\r\n              <select\r\n                value={valorSelecionado}\r\n                onChange={(e) => setValorSelecionado(e.target.value)}\r\n                className=\"form-select\"\r\n              >\r\n                <option value=\"\">Todos os itens (vis칚o agregada)</option>\r\n                {valoresUnicos.map((valor) => (\r\n                  <option key={valor} value={valor}>\r\n                    {valor}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Bot칫es de A칞칚o */}\r\n      <div className=\"acoes-buttons\">\r\n        <button\r\n          onClick={aplicarFiltros}\r\n          className=\"btn btn-primary\"\r\n          disabled={!colunaSelecionada && !buscaGlobal}\r\n        >\r\n          <i className=\"ri-check-line\"></i>\r\n          Aplicar Filtros\r\n        </button>\r\n\r\n        {colunaSelecionada && (\r\n          <button\r\n            onClick={selecionarTodos}\r\n            className=\"btn btn-success\"\r\n          >\r\n            <i className=\"ri-bar-chart-grouped-line\"></i>\r\n            Ver Todos os Itens Agregados\r\n          </button>\r\n        )}\r\n\r\n        <button\r\n          onClick={limparFiltros}\r\n          className=\"btn btn-danger\"\r\n        >\r\n          <i className=\"ri-delete-bin-line\"></i>\r\n          Limpar Tudo\r\n        </button>\r\n      </div>\r\n\r\n      {/* Indicador de Filtros Ativos */}\r\n      {(colunaSelecionada || buscaGlobal) && (\r\n        <div className=\"filtros-ativos\">\r\n          <div className=\"filtros-ativos-header\">\r\n            <i className=\"ri-filter-2-fill\"></i>\r\n            <strong>Filtros Ativos:</strong>\r\n          </div>\r\n\r\n          <div className=\"filtros-ativos-content\">\r\n            {colunaSelecionada && (\r\n              <div className=\"filtro-ativo-item\">\r\n                <i className=\"ri-folder-line\"></i>\r\n                <strong>Categoria:</strong> {colunaSelecionada}\r\n                {valorSelecionado ? (\r\n                  <span className=\"filtro-valor\">\r\n                    = \"{valorSelecionado}\"\r\n                  </span>\r\n                ) : (\r\n                  <span className=\"filtro-valor\">\r\n                    Todos os itens\r\n                  </span>\r\n                )}\r\n              </div>\r\n            )}\r\n\r\n            {buscaGlobal && (\r\n              <div className=\"filtro-ativo-item\">\r\n                <i className=\"ri-search-eye-line\"></i>\r\n                <strong>Busca:</strong>\r\n                <span className=\"filtro-valor\">\r\n                  \"{buscaGlobal}\"\r\n                </span>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1336, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/emiis/Desktop/Development/Eventos/eventos-2026/src/app/lib/chart.ts"],"sourcesContent":["import {\r\n  Chart as ChartJS,\r\n  CategoryScale,\r\n  LinearScale,\r\n  BarElement,\r\n  ArcElement,\r\n  PointElement,\r\n  LineElement,\r\n  Tooltip,\r\n  Legend,\r\n  Title,\r\n  Filler,\r\n} from \"chart.js\";\r\n\r\n// Registra TODOS os elementos necess치rios\r\nChartJS.register(\r\n  CategoryScale,\r\n  LinearScale,\r\n  BarElement,\r\n  ArcElement,\r\n  PointElement,    \r\n  LineElement,\r\n  Tooltip,\r\n  Legend,\r\n  Title,\r\n  Filler\r\n);\r\n\r\nexport default ChartJS;"],"names":[],"mappings":";;;;AAAA;;AAcA,0CAA0C;AAC1C,qKAAO,CAAC,QAAQ,CACd,6KAAa,EACb,2KAAW,EACX,0KAAU,EACV,0KAAU,EACV,4KAAY,EACZ,2KAAW,EACX,uKAAO,EACP,sKAAM,EACN,qKAAK,EACL,sKAAM;uCAGO,qKAAO"}},
    {"offset": {"line": 1349, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/emiis/Desktop/Development/Eventos/eventos-2026/src/components/Graficos.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport \"@/app/lib/chart\";\r\nimport { Bar, Pie, Line, Doughnut } from \"react-chartjs-2\";\r\nimport { useEventsContext } from \"@/app/context/eventsContext\";\r\nimport { useMemo } from \"react\";\r\n\r\nexport default function Graficos() {\r\n  const { eventos, eventosTodos, filtros, colunas } = useEventsContext();\r\n\r\n  const colunaSelecionada = filtros?.coluna || \"\";\r\n  const totalEventos = eventosTodos?.length || 0;\r\n  const eventosFiltrados = eventos?.length || 0;\r\n\r\n  // ============================================\r\n  // FUN칂츾O HELPER: Agrupa dados por coluna\r\n  // ============================================\r\n  const agruparPorColuna = (coluna: string, dadosBase: any[] = []) => {\r\n    const agrupado: Record<string, number> = {};\r\n\r\n    dadosBase.forEach(item => {\r\n      const valor = String(item[coluna] || \"N칚o informado\");\r\n      agrupado[valor] = (agrupado[valor] || 0) + 1;\r\n    });\r\n\r\n    return agrupado;\r\n  };\r\n\r\n  // ============================================\r\n  // GR츼FICOS GEN칄RICOS - AGORA USANDO eventos (FILTRADOS)\r\n  // ============================================\r\n  const graficosGenericos = useMemo(() => {\r\n    if (!eventos?.length || !colunas?.length) return null;\r\n\r\n    // Pega outras colunas para an치lise cruzada (ignora a coluna do filtro)\r\n    const outrasColunas = colunas.filter((col: any) => col !== colunaSelecionada);\r\n\r\n    // Gr치fico 1: Distribui칞칚o da pr칩pria coluna selecionada (se houver filtro)\r\n    let dadosColunaSelecionada = null;\r\n    if (colunaSelecionada) {\r\n      const dados = agruparPorColuna(colunaSelecionada, eventos);\r\n      dadosColunaSelecionada = {\r\n        labels: Object.keys(dados),\r\n        datasets: [{\r\n          label: `Distribui칞칚o por ${colunaSelecionada}`,\r\n          data: Object.values(dados),\r\n          backgroundColor: [\"#4f46e5\", \"#10b981\", \"#f59e0b\", \"#ef4444\", \"#8b5cf6\", \"#ec4899\", \"#06b6d4\", \"#84cc16\"],\r\n        }],\r\n      };\r\n    }\r\n\r\n    // Gr치fico 2: An치lise cruzada - primeira coluna diferente\r\n    const coluna1 = outrasColunas[0] || colunas[0];\r\n    const dados1 = agruparPorColuna(coluna1, eventos);\r\n    const top10Dados1 = Object.entries(dados1)\r\n      .sort(([, a], [, b]) => (b as number) - (a as number))\r\n      .slice(0, 10);\r\n\r\n    // Gr치fico 3: An치lise cruzada - segunda coluna diferente\r\n    const coluna2 = outrasColunas[1] || colunas[1];\r\n    const dados2 = agruparPorColuna(coluna2, eventos);\r\n\r\n    // Gr치fico 4: An치lise cruzada - terceira coluna diferente\r\n    const coluna3 = outrasColunas[2] || colunas[2];\r\n    const dados3 = agruparPorColuna(coluna3, eventos);\r\n\r\n    return {\r\n      colunaSelecionada: dadosColunaSelecionada,\r\n      analise1: {\r\n        titulo: coluna1,\r\n        labels: top10Dados1.map(([key]) => key),\r\n        datasets: [{\r\n          label: `Top 10 - ${coluna1}`,\r\n          data: top10Dados1.map(([, value]) => value),\r\n          backgroundColor: \"#10b981\",\r\n        }],\r\n      },\r\n      analise2: {\r\n        titulo: coluna2,\r\n        labels: Object.keys(dados2),\r\n        datasets: [{\r\n          label: `Distribui칞칚o por ${coluna2}`,\r\n          data: Object.values(dados2),\r\n          backgroundColor: [\"#8b5cf6\", \"#ec4899\", \"#06b6d4\", \"#84cc16\", \"#f59e0b\", \"#ef4444\"],\r\n        }],\r\n      },\r\n      analise3: {\r\n        titulo: coluna3,\r\n        labels: Object.keys(dados3).slice(0, 8),\r\n        datasets: [{\r\n          label: coluna3,\r\n          data: Object.values(dados3).slice(0, 8),\r\n          backgroundColor: \"#f59e0b\",\r\n        }],\r\n      },\r\n    };\r\n  }, [eventos, colunas, colunaSelecionada]);\r\n\r\n  // ============================================\r\n  // GR츼FICO DE TIMELINE - AGORA USANDO eventos (FILTRADOS)\r\n  // ============================================\r\n  const graficoTimeline = useMemo(() => {\r\n    if (!eventos?.length || !colunas?.length) return null;\r\n\r\n    // Procura qualquer coluna com \"data\" no nome\r\n    const colunaData = colunas.find((c: string) => c.toLowerCase().includes(\"data\"));\r\n    if (!colunaData) return null;\r\n\r\n    const dadosTimeline: Record<string, number> = {};\r\n\r\n    eventos.forEach((item: { [x: string]: any; }) => {\r\n      let dataValor = item[colunaData];\r\n      if (dataValor) {\r\n        try {\r\n          const data = new Date(dataValor);\r\n          if (!isNaN(data.getTime())) {\r\n            dataValor = `${data.getMonth() + 1}/${data.getFullYear()}`;\r\n            dadosTimeline[dataValor] = (dadosTimeline[dataValor] || 0) + 1;\r\n          }\r\n        } catch {\r\n        }\r\n      }\r\n    });\r\n\r\n    const timelineOrdenada = Object.keys(dadosTimeline).sort();\r\n\r\n    if (timelineOrdenada.length === 0) return null;\r\n\r\n    return {\r\n      titulo: colunaData,\r\n      labels: timelineOrdenada,\r\n      datasets: [{\r\n        label: `Eventos ao longo do tempo (${colunaData})`,\r\n        data: timelineOrdenada.map(k => dadosTimeline[k]),\r\n        borderColor: \"#4f46e5\",\r\n        backgroundColor: \"rgba(79, 70, 229, 0.1)\",\r\n        tension: 0.4,\r\n        fill: true,\r\n      }],\r\n    };\r\n  }, [eventos, colunas]);\r\n\r\n  // ============================================\r\n  // VERIFICA칂츾O DE DADOS\r\n  // ============================================\r\n  if (!eventosTodos?.length || !colunas?.length) {\r\n    return (\r\n      <div style={{ textAlign: \"center\", padding: \"40px\", color: \"#999\" }}>\r\n        <i className=\"ri-pie-chart-2-line\" style={{ fontSize: \"64px\", display: \"block\", marginBottom: \"20px\", opacity: 0.5 }}></i>\r\n        <p style={{ fontSize: \"18px\" }}>Sem dados para exibir gr치ficos</p>\r\n        <p style={{ fontSize: \"14px\", marginTop: \"10px\" }}>\r\n          Fa칞a upload de uma planilha para come칞ar\r\n        </p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!graficosGenericos) {\r\n    return (\r\n      <div style={{ textAlign: \"center\", padding: \"40px\", color: \"#999\" }}>\r\n        <i className=\"ri-loader-4-line\" style={{ fontSize: \"48px\", display: \"block\", marginBottom: \"20px\", animation: \"spin 1s linear infinite\" }}></i>\r\n        <p style={{ fontSize: \"18px\" }}>Processando dados...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // ============================================\r\n  // RENDERIZA칂츾O COM GRID LAYOUT\r\n  // ============================================\r\n  return (\r\n    <div>\r\n      {/* Indicador de contexto - ATUALIZADO */}\r\n      <div\r\n        style={{\r\n          padding: \"15px\",\r\n          background: colunaSelecionada || filtros?.busca ? \"#eff6ff\" : \"#f0fdf4\",\r\n          borderRadius: \"8px\",\r\n          marginBottom: \"25px\",\r\n          borderLeft: `4px solid ${colunaSelecionada || filtros?.busca ? \"#4f46e5\" : \"#10b981\"}`,\r\n        }}\r\n      >\r\n        <div style={{ display: \"flex\", alignItems: \"center\", gap: \"10px\" }}>\r\n          <i \r\n            className={colunaSelecionada || filtros?.busca ? \"ri-focus-3-line\" : \"ri-dashboard-line\"}\r\n            style={{ fontSize: \"24px\", color: colunaSelecionada || filtros?.busca ? \"#4f46e5\" : \"#10b981\" }}\r\n          ></i>\r\n          <div>\r\n            <strong>\r\n              {colunaSelecionada\r\n                ? `An치lise focada em: ${colunaSelecionada}`\r\n                : filtros?.busca\r\n                ? `Resultado da busca: \"${filtros.busca}\"`\r\n                : \"Vis칚o Geral de Todos os Eventos\"}\r\n            </strong>\r\n            <p style={{ margin: \"5px 0 0 0\", fontSize: \"14px\", color: \"#666\" }}>\r\n              {colunaSelecionada || filtros?.busca\r\n                ? `Mostrando ${eventosFiltrados} de ${totalEventos} eventos`\r\n                : `Total de ${totalEventos} eventos cadastrados`}\r\n            </p>\r\n            {filtros?.busca && colunaSelecionada && (\r\n              <p style={{ margin: \"5px 0 0 0\", fontSize: \"13px\", color: \"#666\", fontStyle: \"italic\" }}>\r\n                Filtrando por: {colunaSelecionada} + Busca global\r\n              </p>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Mensagem se n칚o h치 dados filtrados */}\r\n      {eventos?.length === 0 ? (\r\n        <div style={{ \r\n          textAlign: \"center\", \r\n          padding: \"60px 20px\",\r\n          background: \"linear-gradient(135deg, #fef3c7 0%, #fde68a 100%)\",\r\n          borderRadius: \"12px\",\r\n          border: \"2px solid #f59e0b\"\r\n        }}>\r\n          <i className=\"ri-filter-off-line\" style={{ fontSize: \"64px\", color: \"#d97706\", marginBottom: \"20px\", display: \"block\" }}></i>\r\n          <p style={{ fontSize: \"20px\", fontWeight: 600, color: \"#92400e\", margin: \"0 0 10px 0\" }}>\r\n            Nenhum evento encontrado com os filtros aplicados\r\n          </p>\r\n          <p style={{ fontSize: \"14px\", color: \"#78350f\", margin: 0 }}>\r\n            Tente ajustar os filtros ou limpar a busca\r\n          </p>\r\n        </div>\r\n      ) : (\r\n        <>\r\n          {/* Gr치ficos em Grid Layout - 2 ou 3 por linha */}\r\n          <div \r\n            style={{ \r\n              display: \"grid\", \r\n              gridTemplateColumns: \"repeat(auto-fit, minmax(400px, 1fr))\",\r\n              gap: \"25px\",\r\n            }}\r\n          >\r\n            \r\n            {/* Gr치fico da coluna selecionada (se houver filtro) */}\r\n            {graficosGenericos.colunaSelecionada && (\r\n              <GraficoCard \r\n                titulo={`Distribui칞칚o: ${colunaSelecionada}`}\r\n                tipo=\"pizza\"\r\n                icone=\"ri-pie-chart-line\"\r\n              >\r\n                <Pie data={graficosGenericos.colunaSelecionada} />\r\n              </GraficoCard>\r\n            )}\r\n\r\n            {/* Gr치fico 1: An치lise Cruzada */}\r\n            <GraficoCard \r\n              titulo={`Top 10 - ${graficosGenericos.analise1.titulo}`}\r\n              tipo=\"barras\"\r\n              icone=\"ri-bar-chart-horizontal-line\"\r\n            >\r\n              <Bar\r\n                data={graficosGenericos.analise1}\r\n                options={{ indexAxis: \"y\" as const }}\r\n              />\r\n            </GraficoCard>\r\n\r\n            {/* Gr치fico 2: An치lise Cruzada */}\r\n            <GraficoCard \r\n              titulo={`An치lise por ${graficosGenericos.analise2.titulo}`}\r\n              tipo=\"rosca\"\r\n              icone=\"ri-donut-chart-line\"\r\n            >\r\n              <Doughnut data={graficosGenericos.analise2} />\r\n            </GraficoCard>\r\n\r\n            {/* Gr치fico 3: An치lise Cruzada */}\r\n            <GraficoCard \r\n              titulo={`Distribui칞칚o: ${graficosGenericos.analise3.titulo}`}\r\n              tipo=\"barras\"\r\n              icone=\"ri-bar-chart-box-line\"\r\n            >\r\n              <Bar data={graficosGenericos.analise3} />\r\n            </GraficoCard>\r\n\r\n            {/* Gr치fico 4: Timeline (se existir) - ocupa linha inteira */}\r\n            {graficoTimeline && (\r\n              <div style={{ gridColumn: \"1 / -1\" }}>\r\n                <GraficoCard \r\n                  titulo={`Timeline - ${graficoTimeline.titulo}`}\r\n                  tipo=\"linha\"\r\n                  icone=\"ri-line-chart-line\"\r\n                >\r\n                  <Line data={graficoTimeline} />\r\n                </GraficoCard>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\n// ============================================\r\n// 游닍 COMPONENTE AUXILIAR: Card de Gr치fico\r\n// ============================================\r\nfunction GraficoCard({\r\n  titulo,\r\n  tipo,\r\n  icone,\r\n  children,\r\n}: {\r\n  titulo: string;\r\n  tipo: \"barras\" | \"pizza\" | \"linha\" | \"rosca\";\r\n  icone: string;\r\n  children: React.ReactNode;\r\n}) {\r\n  return (\r\n    <div\r\n      style={{\r\n        background: \"#fff\",\r\n        padding: \"25px\",\r\n        borderRadius: \"12px\",\r\n        boxShadow: \"0 4px 12px rgba(0,0,0,0.08)\",\r\n        height: \"100%\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        transition: \"all 0.3s ease\",\r\n      }}\r\n      onMouseEnter={(e) => {\r\n        e.currentTarget.style.transform = \"translateY(-4px)\";\r\n        e.currentTarget.style.boxShadow = \"0 8px 20px rgba(0,0,0,0.12)\";\r\n      }}\r\n      onMouseLeave={(e) => {\r\n        e.currentTarget.style.transform = \"translateY(0)\";\r\n        e.currentTarget.style.boxShadow = \"0 4px 12px rgba(0,0,0,0.08)\";\r\n      }}\r\n    >\r\n      <h3 style={{ \r\n        marginBottom: \"20px\", \r\n        color: \"#374151\", \r\n        fontSize: \"16px\",\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        gap: \"8px\"\r\n      }}>\r\n        <i className={icone} style={{ fontSize: \"20px\", color: \"#4f46e5\" }}></i>\r\n        {titulo}\r\n      </h3>\r\n      <div style={{ flex: 1, display: \"flex\", alignItems: \"center\", justifyContent: \"center\" }}>\r\n        {children}\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1928, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/emiis/Desktop/Development/Eventos/eventos-2026/src/components/TabelaEventos.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEventsContext } from \"@/app/context/eventsContext\";\r\nimport { useState, useMemo } from \"react\";\r\nimport \"@/app/css/tabela-eventos.css\";\r\nimport * as XLSX from \"xlsx\";\r\n\r\nconst ORDEM_COLUNAS = [\r\n  \"Nome\",\r\n  \"Tema\",\r\n  \"Tipo\",\r\n  \"Data Inicial\",\r\n  \"Data Final\",\r\n  \"Local\",\r\n  \"Cidade\",\r\n  \"Empresa\",\r\n  \"Formato\",\r\n  \"Site Evento\",\r\n  \"Tem Fornecedor Patrocinador\",\r\n  \"Nome Fornecedor Patrocinador\",\r\n  \"E-Mail Fornecedor Patrocinador\",\r\n  \"Vivo Patrocina\",\r\n  \"Pago\",\r\n  \"Valor Inscri칞칚o\",\r\n];\r\n\r\ntype OrdenacaoConfig = {\r\n  coluna: string;\r\n  direcao: \"asc\" | \"desc\";\r\n};\r\n\r\nexport default function TabelaEventos() {\r\n  const { eventos } = useEventsContext();\r\n  \r\n  const [paginaAtual, setPaginaAtual] = useState(1);\r\n  const [itensPorPagina, setItensPorPagina] = useState(10);\r\n  const [ordenacao, setOrdenacao] = useState<OrdenacaoConfig | null>(null);\r\n\r\n  if (!eventos?.length) {\r\n    return (\r\n      <div className=\"tabela-vazia\">\r\n        <i className=\"ri-inbox-line tabela-vazia-icon\"></i>\r\n        <p className=\"tabela-vazia-titulo\">Nenhum evento para exibir</p>\r\n        <p className=\"tabela-vazia-subtitulo\">\r\n          Fa칞a upload de uma planilha ou ajuste os filtros\r\n        </p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Garante que s칩 renderiza colunas que EXISTEM nos dados\r\n  const colunasVisiveis = ORDEM_COLUNAS.filter((col) =>\r\n    Object.keys(eventos[0]).includes(col)\r\n  );\r\n\r\n  // Ordena칞칚o\r\n  const eventosOrdenados = useMemo(() => {\r\n    if (!ordenacao) return eventos;\r\n\r\n    return [...eventos].sort((a, b) => {\r\n      const valorA = String(a[ordenacao.coluna] || \"\");\r\n      const valorB = String(b[ordenacao.coluna] || \"\");\r\n\r\n      const comparacao = valorA.localeCompare(valorB, \"pt-BR\", {\r\n        numeric: true,\r\n      });\r\n\r\n      return ordenacao.direcao === \"asc\" ? comparacao : -comparacao;\r\n    });\r\n  }, [eventos, ordenacao]);\r\n\r\n  // Pagina칞칚o\r\n  const totalPaginas = Math.ceil(eventosOrdenados.length / itensPorPagina);\r\n  const indiceInicio = (paginaAtual - 1) * itensPorPagina;\r\n  const indiceFim = indiceInicio + itensPorPagina;\r\n  const eventosPaginados = eventosOrdenados.slice(indiceInicio, indiceFim);\r\n\r\n  // Fun칞칫es\r\n  const handleOrdenar = (coluna: string) => {\r\n    setOrdenacao((prev) => {\r\n      if (prev?.coluna === coluna) {\r\n        // Se j치 est치 ordenando por essa coluna, inverte a dire칞칚o\r\n        return {\r\n          coluna,\r\n          direcao: prev.direcao === \"asc\" ? \"desc\" : \"asc\",\r\n        };\r\n      }\r\n      // Nova coluna, come칞a ascendente\r\n      return { coluna, direcao: \"asc\" };\r\n    });\r\n  };\r\n\r\n  const exportarParaExcel = () => {\r\n    const worksheet = XLSX.utils.json_to_sheet(eventosOrdenados);\r\n    const workbook = XLSX.utils.book_new();\r\n    XLSX.utils.book_append_sheet(workbook, worksheet, \"Eventos\");\r\n    XLSX.writeFile(workbook, `eventos_${new Date().toISOString().split('T')[0]}.xlsx`);\r\n  };\r\n\r\n  const getIconeOrdenacao = (coluna: string) => {\r\n    if (ordenacao?.coluna !== coluna) {\r\n      return <i className=\"ri-arrow-up-down-line\"></i>;\r\n    }\r\n    return ordenacao.direcao === \"asc\" ? \r\n      <i className=\"ri-arrow-up-line\"></i> : \r\n      <i className=\"ri-arrow-down-line\"></i>;\r\n  };\r\n\r\n  return (\r\n    <div className=\"tabela-container\">\r\n      {/* Controles da Tabela */}\r\n      <div className=\"tabela-controles\">\r\n        <div className=\"controles-esquerda\">\r\n          <label className=\"controle-label\">\r\n            <i className=\"ri-list-settings-line\"></i>\r\n            Itens por p치gina:\r\n            <select\r\n              value={itensPorPagina}\r\n              onChange={(e) => {\r\n                setItensPorPagina(Number(e.target.value));\r\n                setPaginaAtual(1);\r\n              }}\r\n              className=\"controle-select\"\r\n            >\r\n              <option value={5}>5</option>\r\n              <option value={10}>10</option>\r\n              <option value={25}>25</option>\r\n              <option value={50}>50</option>\r\n              <option value={100}>100</option>\r\n            </select>\r\n          </label>\r\n        </div>\r\n\r\n        <div className=\"controles-direita\">\r\n          <button\r\n            onClick={exportarParaExcel}\r\n            className=\"btn-exportar\"\r\n            title=\"Exportar para Excel\"\r\n          >\r\n            <i className=\"ri-file-excel-2-line\"></i>\r\n            Exportar Excel\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Wrapper da Tabela */}\r\n      <div className=\"tabela-wrapper\">\r\n        <table className=\"tabela-eventos\">\r\n          <thead>\r\n            <tr>\r\n              <th className=\"coluna-id\">\r\n                <i className=\"ri-hashtag\"></i> ID\r\n              </th>\r\n\r\n              {colunasVisiveis.map((col) => (\r\n                <th\r\n                  key={col}\r\n                  onClick={() => handleOrdenar(col)}\r\n                  className=\"coluna-ordenavel\"\r\n                  title={`Ordenar por ${col}`}\r\n                >\r\n                  <div className=\"th-content\">\r\n                    <span>{col}</span>\r\n                    <span className=\"icone-ordenacao\">\r\n                      {getIconeOrdenacao(col)}\r\n                    </span>\r\n                  </div>\r\n                </th>\r\n              ))}\r\n            </tr>\r\n          </thead>\r\n\r\n          <tbody>\r\n            {eventosPaginados.map((evento: { [x: string]: any }, index: number) => {\r\n              const idGlobal = indiceInicio + index + 1;\r\n              return (\r\n                <tr key={`evento-${idGlobal}`} className=\"linha-evento\">\r\n                  <td className=\"coluna-id\">{idGlobal}</td>\r\n\r\n                  {colunasVisiveis.map((col) => (\r\n                    <td key={`${idGlobal}-${col}`} className=\"celula-dado\">\r\n                      {String(evento[col] ?? \"\")}\r\n                    </td>\r\n                  ))}\r\n                </tr>\r\n              );\r\n            })}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n\r\n      {/* Rodap칠 com Pagina칞칚o */}\r\n\r\n        <div className=\"paginacao\">\r\n          <button\r\n            onClick={() => setPaginaAtual(1)}\r\n            disabled={paginaAtual === 1}\r\n            className=\"btn-paginacao\"\r\n            title=\"Primeira p치gina\"\r\n          >\r\n            <i className=\"ri-skip-back-mini-line\"></i>\r\n          </button>\r\n\r\n          <button\r\n            onClick={() => setPaginaAtual((prev) => Math.max(1, prev - 1))}\r\n            disabled={paginaAtual === 1}\r\n            className=\"btn-paginacao\"\r\n            title=\"P치gina anterior\"\r\n          >\r\n            <i className=\"ri-arrow-left-s-line\"></i>\r\n          </button>\r\n\r\n          <span className=\"paginacao-info\">\r\n            P치gina <strong>{paginaAtual}</strong> de <strong>{totalPaginas}</strong>\r\n          </span>\r\n\r\n          <button\r\n            onClick={() =>\r\n              setPaginaAtual((prev) => Math.min(totalPaginas, prev + 1))\r\n            }\r\n            disabled={paginaAtual === totalPaginas}\r\n            className=\"btn-paginacao\"\r\n            title=\"Pr칩xima p치gina\"\r\n          >\r\n            <i className=\"ri-arrow-right-s-line\"></i>\r\n          </button>\r\n\r\n          <button\r\n            onClick={() => setPaginaAtual(totalPaginas)}\r\n            disabled={paginaAtual === totalPaginas}\r\n            className=\"btn-paginacao\"\r\n            title=\"칔ltima p치gina\"\r\n          >\r\n            <i className=\"ri-skip-forward-mini-line\"></i>\r\n          </button>\r\n        </div>\r\n      </div>    \r\n  );\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2413, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/emiis/Desktop/Development/Eventos/eventos-2026/src/components/Estatisticas.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEventsContext } from \"@/app/context/eventsContext\";\r\nimport { useMemo } from \"react\";\r\n\r\nexport default function Estatisticas() {\r\n  const { eventos, eventosTodos, colunas, filtros } = useEventsContext();\r\n\r\n  // Calcula estat칤sticas USANDO OS DADOS FILTRADOS (eventos)\r\n  const stats = useMemo(() => {\r\n    // Total de eventos\r\n    const total = eventosTodos?.length || 0;\r\n    const filtrados = eventos?.length || 0;\r\n\r\n    // Eventos pagos vs gratuitos - USANDO eventos (filtrados)\r\n    const colunaPago = colunas?.includes(\"Pago\") ? \"Pago\" : null;\r\n    const eventosPagos = colunaPago\r\n      ? eventos.filter((e: { [x: string]: { toString: () => string; }; }) => e[colunaPago]?.toString().toLowerCase() === \"sim\")\r\n          .length\r\n      : 0;\r\n\r\n    // Patrocinados pela Vivo - USANDO eventos (filtrados)\r\n    const colunaVivo = colunas?.includes(\"Vivo Patrocina\")\r\n      ? \"Vivo Patrocina\"\r\n      : null;\r\n    const vivoPatrocina = colunaVivo\r\n      ? eventos.filter(\r\n          (e: { [x: string]: { toString: () => string; }; }) => e[colunaVivo]?.toString().toLowerCase() === \"sim\"\r\n        ).length\r\n      : 0;\r\n\r\n    // Tipos de eventos 칰nicos - USANDO eventos (filtrados)\r\n    const colunaTipo = colunas?.includes(\"Tipo\") ? \"Tipo\" : colunas?.[1];\r\n    const tiposUnicos = colunaTipo\r\n      ? new Set(eventos.map((e: { [x: string]: any; }) => e[colunaTipo]).filter(Boolean)).size\r\n      : 0;\r\n\r\n    return {\r\n      total,\r\n      filtrados,\r\n      eventosPagos,\r\n      vivoPatrocina,\r\n      tiposUnicos,\r\n    };\r\n  }, [eventos, eventosTodos, colunas]);\r\n\r\n  // Determina se h치 filtros ativos\r\n  const temFiltroAtivo = filtros?.coluna || filtros?.busca;\r\n\r\n  const cards = [\r\n    {\r\n      titulo: \"Total de Eventos\",\r\n      valor: stats.total,\r\n      icone: \"ri-bar-chart-box-line\",\r\n      cor: \"#4f46e5\",\r\n    },\r\n    {\r\n      titulo: temFiltroAtivo ? \"Eventos Filtrados\" : \"Eventos Dispon칤veis\",\r\n      valor: stats.filtrados,\r\n      icone: \"ri-filter-3-line\",\r\n      cor: \"#10b981\",\r\n    },\r\n    {\r\n      titulo: \"Eventos Pagos\",\r\n      valor: stats.eventosPagos,\r\n      icone: \"ri-money-dollar-circle-line\",\r\n      cor: \"#f59e0b\",\r\n    },\r\n    {\r\n      titulo: \"Vivo Patrocina\",\r\n      valor: stats.vivoPatrocina,\r\n      icone: \"ri-award-line\",\r\n      cor: \"#ef4444\",\r\n    },\r\n    {\r\n      titulo: \"Tipos Diferentes\",\r\n      valor: stats.tiposUnicos,\r\n      icone: \"ri-price-tag-3-line\",\r\n      cor: \"#8b5cf6\",\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <>\r\n      \r\n\r\n      <div\r\n        style={{\r\n          display: \"grid\",\r\n          gridTemplateColumns: \"repeat(auto-fit, minmax(200px, 1fr))\",\r\n          gap: \"15px\",\r\n          marginBottom: \"20px\",\r\n        }}\r\n      >\r\n        {cards.map((card, index) => (\r\n          <div\r\n            key={index}\r\n            style={{\r\n              background: \"#fff\",\r\n              padding: \"20px\",\r\n              borderRadius: \"8px\",\r\n              boxShadow: \"0 2px 6px rgba(0,0,0,0.08)\",\r\n              borderLeft: `4px solid ${card.cor}`,\r\n              transition: \"all 0.3s ease\",\r\n            }}\r\n            onMouseEnter={(e) => {\r\n              e.currentTarget.style.transform = \"translateY(-2px)\";\r\n              e.currentTarget.style.boxShadow = \"0 4px 12px rgba(0,0,0,0.12)\";\r\n            }}\r\n            onMouseLeave={(e) => {\r\n              e.currentTarget.style.transform = \"translateY(0)\";\r\n              e.currentTarget.style.boxShadow = \"0 2px 6px rgba(0,0,0,0.08)\";\r\n            }}\r\n          >\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                alignItems: \"center\",\r\n                gap: \"10px\",\r\n                marginBottom: \"10px\",\r\n              }}\r\n            >\r\n              <i \r\n                className={card.icone}\r\n                style={{ \r\n                  fontSize: \"28px\",\r\n                  color: card.cor,\r\n                }}\r\n              ></i>\r\n              <div style={{ flex: 1 }}>\r\n                <h3\r\n                  style={{\r\n                    margin: 0,\r\n                    fontSize: \"14px\",\r\n                    color: \"#666\",\r\n                    fontWeight: \"500\",\r\n                  }}\r\n                >\r\n                  {card.titulo}\r\n                </h3>\r\n                \r\n              </div>\r\n            </div>\r\n            <p\r\n              style={{\r\n                margin: 0,\r\n                fontSize: \"32px\",\r\n                fontWeight: \"700\",\r\n                color: card.cor,\r\n              }}\r\n            >\r\n              {card.valor}\r\n            </p>\r\n          </div>\r\n        ))}\r\n      </div> \r\n    </>\r\n  );\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2589, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/emiis/Desktop/Development/Eventos/eventos-2026/src/app/dashboards/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport UploadExcel from \"@/components/UploadExcel\";\nimport Filtros from \"@/components/Filtros\";\nimport Graficos from \"@/components/Graficos\";\nimport TabelaEventos from \"@/components/TabelaEventos\";\nimport Estatisticas from \"@/components/Estatisticas\";\nimport { useEventsContext } from \"@/app/context/eventsContext\";\nimport \"remixicon/fonts/remixicon.css\";\n\nexport default function PageDash() {\n  const { loading } = useEventsContext();\n  const [mounted, setMounted] = useState(false);\n\n  useEffect(() => {\n    setMounted(true);\n  }, []);\n\n  if (!mounted) {\n    return (\n      <main className=\"container\">\n        <header style={{ textAlign: \"center\", marginBottom: \"30px\" }}>\n          <h1 style={{ fontSize: \"36px\", marginBottom: \"10px\" }}>\n            Eventos 2026\n          </h1>\n          <p style={{ color: \"#666\", fontSize: \"16px\" }}>\n            Carregando dashboard...\n          </p>\n        </header>\n      </main>\n    );\n  }\n\n  return (\n    <main className=\"container\">\n      <header style={{ textAlign: \"center\", marginBottom: \"30px\" }}>\n        <h1 style={{ fontSize: \"24px\", marginBottom: \"10px\" }}>Dashboard interativo para visualiza칞칚o e gerenciamento de eventos</h1>\n        \n      </header>\n\n      {/* Upload */}\n      <section className=\"card\">\n        <h2>Upload da Planilha</h2>\n        <p style={{ color: \"#666\", fontSize: \"14px\", marginBottom: \"15px\" }}>\n          Fa칞a upload de um arquivo Excel (.xlsx ou .xls) com os dados dos\n          eventos\n        </p>\n        <UploadExcel />\n      </section>\n\n      {loading && (\n        <div\n          style={{\n            textAlign: \"center\",\n            padding: \"20px\",\n            background: \"#eff6ff\",\n            borderRadius: \"8px\",\n            marginBottom: \"20px\",\n          }}\n        >\n          <p style={{ margin: 0 }}>낍 Carregando dados...</p>\n        </div>\n      )}\n\n      <section>\n        <Estatisticas />\n      </section>\n\n      <section className=\"card\">\n        <h2>Filtros</h2>\n        <p style={{ color: \"#666\", fontSize: \"14px\", marginBottom: \"15px\" }}>\n          Filtre os eventos por coluna espec칤fica ou fa칞a uma busca global\n        </p>\n\n        <Filtros />\n      </section>\n\n      <section className=\"card\">\n        <h2>Visualiza칞칫es em gr치ficos</h2>\n        <p style={{ color: \"#666\", fontSize: \"14px\", marginBottom: \"15px\" }}>\n          Fa칞a uma an치lise visual dos dados com diferentes tipos de gr치ficos\n        </p>\n        <Graficos />\n      </section>\n\n      <section className=\"card\">\n        <h2>Tabela de Dados</h2>\n        <p style={{ color: \"#666\", fontSize: \"14px\", marginBottom: \"15px\" }}>\n          Visualize todos os eventos cadastrados\n        </p>\n        <TabelaEventos />\n      </section>\n\n      <footer style={{ textAlign: \"center\", marginTop: \"40px\", color: \"#999\" }}>\n        <p> 춸 Desenvolvido por Emilly Silva   2026 Eventos </p>\n      </footer>\n    </main>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;;;;;;;;;;AAWe,SAAS;IACtB,MAAM,EAAE,OAAO,EAAE,GAAG,IAAA,2JAAgB;IACpC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,IAAA,kNAAS,EAAC;QACR,WAAW;IACb,GAAG,EAAE;IAEL,IAAI,CAAC,SAAS;QACZ,qBACE,8OAAC;YAAK,WAAU;sBACd,cAAA,8OAAC;gBAAO,OAAO;oBAAE,WAAW;oBAAU,cAAc;gBAAO;;kCACzD,8OAAC;wBAAG,OAAO;4BAAE,UAAU;4BAAQ,cAAc;wBAAO;kCAAG;;;;;;kCAGvD,8OAAC;wBAAE,OAAO;4BAAE,OAAO;4BAAQ,UAAU;wBAAO;kCAAG;;;;;;;;;;;;;;;;;IAMvD;IAEA,qBACE,8OAAC;QAAK,WAAU;;0BACd,8OAAC;gBAAO,OAAO;oBAAE,WAAW;oBAAU,cAAc;gBAAO;0BACzD,cAAA,8OAAC;oBAAG,OAAO;wBAAE,UAAU;wBAAQ,cAAc;oBAAO;8BAAG;;;;;;;;;;;0BAKzD,8OAAC;gBAAQ,WAAU;;kCACjB,8OAAC;kCAAG;;;;;;kCACJ,8OAAC;wBAAE,OAAO;4BAAE,OAAO;4BAAQ,UAAU;4BAAQ,cAAc;wBAAO;kCAAG;;;;;;kCAIrE,8OAAC,4IAAW;;;;;;;;;;;YAGb,yBACC,8OAAC;gBACC,OAAO;oBACL,WAAW;oBACX,SAAS;oBACT,YAAY;oBACZ,cAAc;oBACd,cAAc;gBAChB;0BAEA,cAAA,8OAAC;oBAAE,OAAO;wBAAE,QAAQ;oBAAE;8BAAG;;;;;;;;;;;0BAI7B,8OAAC;0BACC,cAAA,8OAAC,6IAAY;;;;;;;;;;0BAGf,8OAAC;gBAAQ,WAAU;;kCACjB,8OAAC;kCAAG;;;;;;kCACJ,8OAAC;wBAAE,OAAO;4BAAE,OAAO;4BAAQ,UAAU;4BAAQ,cAAc;wBAAO;kCAAG;;;;;;kCAIrE,8OAAC,wIAAO;;;;;;;;;;;0BAGV,8OAAC;gBAAQ,WAAU;;kCACjB,8OAAC;kCAAG;;;;;;kCACJ,8OAAC;wBAAE,OAAO;4BAAE,OAAO;4BAAQ,UAAU;4BAAQ,cAAc;wBAAO;kCAAG;;;;;;kCAGrE,8OAAC,yIAAQ;;;;;;;;;;;0BAGX,8OAAC;gBAAQ,WAAU;;kCACjB,8OAAC;kCAAG;;;;;;kCACJ,8OAAC;wBAAE,OAAO;4BAAE,OAAO;4BAAQ,UAAU;4BAAQ,cAAc;wBAAO;kCAAG;;;;;;kCAGrE,8OAAC,8IAAa;;;;;;;;;;;0BAGhB,8OAAC;gBAAO,OAAO;oBAAE,WAAW;oBAAU,WAAW;oBAAQ,OAAO;gBAAO;0BACrE,cAAA,8OAAC;8BAAE;;;;;;;;;;;;;;;;;AAIX"}}]
}