{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/emiis/Desktop/Development/Eventos/eventos-2026/src/app/hooks/useEvents.ts"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useMemo, useState } from \"react\";\r\nimport {\r\n  collection,\r\n  getDocs,\r\n  writeBatch,\r\n  doc,\r\n  deleteDoc,\r\n} from \"firebase/firestore\";\r\nimport { db } from \"@/app/lib/firebase\";\r\n\r\ntype Filtro = {\r\n  coluna: string;\r\n  valor: string;\r\n};\r\n\r\nexport function useEvents() {\r\n  const [eventos, setEventos] = useState<any[]>([]);\r\n  const [colunas, setColunas] = useState<string[]>([]);\r\n  const [filtro, setFiltro] = useState<Filtro | null>(null);\r\n  const [loading, setLoading] = useState<boolean>(false);\r\n\r\n  // üîπ Carrega dados do Firestore (fonte oficial do dashboard)\r\n  const carregarFirebase = async () => {\r\n    setLoading(true);\r\n\r\n    const ref = collection(db, \"eventos\");\r\n    const snap = await getDocs(ref);\r\n    const dados = snap.docs.map(doc => doc.data());\r\n\r\n    setEventos(dados);\r\n    setColunas(Object.keys(dados[0] || {}));\r\n    setFiltro(null);\r\n\r\n    setLoading(false);\r\n  };\r\n\r\n  // üîπ Salva dados no Firestore (batch ‚Üí performance)\r\n  const salvarFirebase = async (dados: any[]) => {\r\n    setLoading(true);\r\n\r\n    const batch = writeBatch(db);\r\n    const ref = collection(db, \"eventos\");\r\n\r\n    dados.forEach(item => {\r\n      const docRef = doc(ref);\r\n      batch.set(docRef, item);\r\n    });\r\n\r\n    await batch.commit();\r\n\r\n    await carregarFirebase(); // üî• reflete no dashboard ap√≥s salvar\r\n  };\r\n\r\n  // üîπ Limpa TODOS os dados do Firestore\r\n  const limparFirebase = async () => {\r\n    setLoading(true);\r\n\r\n    const ref = collection(db, \"eventos\");\r\n    const snap = await getDocs(ref);\r\n\r\n    for (const docSnap of snap.docs) {\r\n      await deleteDoc(docSnap.ref);\r\n    }\r\n\r\n    setEventos([]);\r\n    setColunas([]);\r\n    setFiltro(null);\r\n\r\n    setLoading(false);\r\n  };\r\n\r\n  // üîπ Aplica filtro global (tabela + gr√°fico)\r\n  const eventosFiltrados = useMemo(() => {\r\n    if (!filtro) return eventos;\r\n\r\n    return eventos.filter(ev =>\r\n      String(ev[filtro.coluna]) === filtro.valor\r\n    );\r\n  }, [eventos, filtro]);\r\n\r\n  // üîπ Carrega dados ao abrir o app\r\n  useEffect(() => {\r\n    carregarFirebase();\r\n  }, []);\r\n\r\n  // üîπ Limpar todos os dados\r\n  const limparDados = async () => {\r\n    const confirmar = window.confirm(\r\n      \"Tem certeza que deseja apagar todos os dados? Essa a√ß√£o n√£o pode ser desfeita.\"\r\n    );\r\n\r\n    if (confirmar) {\r\n      await limparFirebase();\r\n    }\r\n  };\r\n\r\n  return {\r\n    eventos: eventosFiltrados,\r\n    colunas,\r\n    loading,\r\n    setFiltro,\r\n    carregarFirebase,\r\n    salvarFirebase,\r\n    limparFirebase,\r\n  };\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AAAA;AAOA;AAVA;;;;AAiBO,SAAS;IACd,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAQ,EAAE;IAChD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAW,EAAE;IACnD,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAgB;IACpD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAU;IAEhD,6DAA6D;IAC7D,MAAM,mBAAmB;QACvB,WAAW;QAEX,MAAM,MAAM,IAAA,+KAAU,EAAC,mIAAE,EAAE;QAC3B,MAAM,OAAO,MAAM,IAAA,4KAAO,EAAC;QAC3B,MAAM,QAAQ,KAAK,IAAI,CAAC,GAAG,CAAC,CAAA,MAAO,IAAI,IAAI;QAE3C,WAAW;QACX,WAAW,OAAO,IAAI,CAAC,KAAK,CAAC,EAAE,IAAI,CAAC;QACpC,UAAU;QAEV,WAAW;IACb;IAEA,oDAAoD;IACpD,MAAM,iBAAiB,OAAO;QAC5B,WAAW;QAEX,MAAM,QAAQ,IAAA,+KAAU,EAAC,mIAAE;QAC3B,MAAM,MAAM,IAAA,+KAAU,EAAC,mIAAE,EAAE;QAE3B,MAAM,OAAO,CAAC,CAAA;YACZ,MAAM,SAAS,IAAA,wKAAG,EAAC;YACnB,MAAM,GAAG,CAAC,QAAQ;QACpB;QAEA,MAAM,MAAM,MAAM;QAElB,MAAM,oBAAoB,sCAAsC;IAClE;IAEA,uCAAuC;IACvC,MAAM,iBAAiB;QACrB,WAAW;QAEX,MAAM,MAAM,IAAA,+KAAU,EAAC,mIAAE,EAAE;QAC3B,MAAM,OAAO,MAAM,IAAA,4KAAO,EAAC;QAE3B,KAAK,MAAM,WAAW,KAAK,IAAI,CAAE;YAC/B,MAAM,IAAA,8KAAS,EAAC,QAAQ,GAAG;QAC7B;QAEA,WAAW,EAAE;QACb,WAAW,EAAE;QACb,UAAU;QAEV,WAAW;IACb;IAEA,6CAA6C;IAC7C,MAAM,mBAAmB,IAAA,gNAAO,EAAC;QAC/B,IAAI,CAAC,QAAQ,OAAO;QAEpB,OAAO,QAAQ,MAAM,CAAC,CAAA,KACpB,OAAO,EAAE,CAAC,OAAO,MAAM,CAAC,MAAM,OAAO,KAAK;IAE9C,GAAG;QAAC;QAAS;KAAO;IAEpB,kCAAkC;IAClC,IAAA,kNAAS,EAAC;QACR;IACF,GAAG,EAAE;IAEL,2BAA2B;IAC3B,MAAM,cAAc;QAClB,MAAM,YAAY,OAAO,OAAO,CAC9B;QAGF,IAAI,WAAW;YACb,MAAM;QACR;IACF;IAEA,OAAO;QACL,SAAS;QACT;QACA;QACA;QACA;QACA;QACA;IACF;AACF"}},
    {"offset": {"line": 90, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/emiis/Desktop/Development/Eventos/eventos-2026/src/components/UploadExcel.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport * as XLSX from \"xlsx\";\r\nimport { useState } from \"react\";\r\nimport { useEvents } from \"@/app/hooks/useEvents\";\r\n\r\nexport default function UploadExcel() {\r\n  const { salvarFirebase } = useEvents();\r\n\r\n  const [file, setFile] = useState<File | null>(null);\r\n  const [status, setStatus] = useState<\r\n    \"idle\" | \"loading\" | \"success\" | \"error\"\r\n  >(\"idle\");\r\n  const [mensagem, setMensagem] = useState(\"\");\r\n\r\n  const processarArquivo = async () => {\r\n    if (!file) return;\r\n\r\n    if (!file.name.endsWith(\".xlsx\") && !file.name.endsWith(\".xls\")) {\r\n      setStatus(\"error\");\r\n      setMensagem(\"Arquivo n√£o suportado. Envie um Excel.\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setStatus(\"loading\");\r\n      setMensagem(\"Enviando dados para o banco...\");\r\n\r\n      const buffer = await file.arrayBuffer();\r\n      const workbook = XLSX.read(buffer);\r\n      const sheet = workbook.Sheets[workbook.SheetNames[0]];\r\n      const json = XLSX.utils.sheet_to_json(sheet, { defval: \"\" });\r\n\r\n      await salvarFirebase(json); // üî• envia direto para o banco\r\n\r\n      setStatus(\"success\");\r\n      setMensagem(\"Arquivo processado e salvo com sucesso!\");\r\n    } catch (err) {\r\n      setStatus(\"error\");\r\n      setMensagem(\"Erro ao salvar os dados no banco.\");\r\n    }\r\n  };\r\n\r\n  function limparDados(): void {\r\n    throw new Error(\"Function not implemented.\");\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <input\r\n        type=\"file\"\r\n        accept=\".xlsx,.xls\"\r\n        onChange={e => setFile(e.target.files?.[0] || null)}\r\n      />\r\n\r\n      <button onClick={processarArquivo} style={{ marginTop: 8 }}>\r\n        Processar arquivo\r\n      </button>\r\n\r\n      <button onClick={() => limparDados()} style={{ marginTop: 8 }}>\r\n        Limpar dados\r\n      </button>\r\n\r\n      {status !== \"idle\" && (\r\n        <p\r\n          style={{\r\n            marginTop: 8,\r\n            color: status === \"error\" ? \"red\" : \"green\",\r\n          }}\r\n        >\r\n          {mensagem}\r\n        </p>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAMe,SAAS;IACtB,MAAM,EAAE,cAAc,EAAE,GAAG,IAAA,6IAAS;IAEpC,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAc;IAC9C,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAElC;IACF,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IAEzC,MAAM,mBAAmB;QACvB,IAAI,CAAC,MAAM;QAEX,IAAI,CAAC,KAAK,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,KAAK,IAAI,CAAC,QAAQ,CAAC,SAAS;YAC/D,UAAU;YACV,YAAY;YACZ;QACF;QAEA,IAAI;YACF,UAAU;YACV,YAAY;YAEZ,MAAM,SAAS,MAAM,KAAK,WAAW;YACrC,MAAM,WAAW,qIAAS,CAAC;YAC3B,MAAM,QAAQ,SAAS,MAAM,CAAC,SAAS,UAAU,CAAC,EAAE,CAAC;YACrD,MAAM,OAAO,sIAAU,CAAC,aAAa,CAAC,OAAO;gBAAE,QAAQ;YAAG;YAE1D,MAAM,eAAe,OAAO,+BAA+B;YAE3D,UAAU;YACV,YAAY;QACd,EAAE,OAAO,KAAK;YACZ,UAAU;YACV,YAAY;QACd;IACF;IAEA,SAAS;QACP,MAAM,IAAI,MAAM;IAClB;IAEA,qBACE,8OAAC;;0BACC,8OAAC;gBACC,MAAK;gBACL,QAAO;gBACP,UAAU,CAAA,IAAK,QAAQ,EAAE,MAAM,CAAC,KAAK,EAAE,CAAC,EAAE,IAAI;;;;;;0BAGhD,8OAAC;gBAAO,SAAS;gBAAkB,OAAO;oBAAE,WAAW;gBAAE;0BAAG;;;;;;0BAI5D,8OAAC;gBAAO,SAAS,IAAM;gBAAe,OAAO;oBAAE,WAAW;gBAAE;0BAAG;;;;;;YAI9D,WAAW,wBACV,8OAAC;gBACC,OAAO;oBACL,WAAW;oBACX,OAAO,WAAW,UAAU,QAAQ;gBACtC;0BAEC;;;;;;;;;;;;AAKX"}},
    {"offset": {"line": 190, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/emiis/Desktop/Development/Eventos/eventos-2026/src/components/Filtros.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEvents } from \"@/app/hooks/useEvents\";\r\n\r\nexport default function Filtros() {\r\n  const { colunas, setFiltro } = useEvents();\r\n\r\n  return (\r\n    <select\r\n      onChange={e => {\r\n        const [coluna, valor] = e.target.value.split(\"|\");\r\n        if (!coluna) return;\r\n        setFiltro({ coluna, valor });\r\n      }}\r\n    >\r\n      <option value=\"\">Filtrar por...</option>\r\n\r\n      {colunas.map(col =>\r\n        [\"IA\", \"UX\", \"Tecnologia\", \"Palestra\", \"Workshop\"].map(valor => (\r\n          <option key={`${col}-${valor}`} value={`${col}|${valor}`}>\r\n            {col}: {valor}\r\n          </option>\r\n        ))\r\n      )}\r\n    </select>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAIe,SAAS;IACtB,MAAM,EAAE,OAAO,EAAE,SAAS,EAAE,GAAG,IAAA,6IAAS;IAExC,qBACE,8OAAC;QACC,UAAU,CAAA;YACR,MAAM,CAAC,QAAQ,MAAM,GAAG,EAAE,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC;YAC7C,IAAI,CAAC,QAAQ;YACb,UAAU;gBAAE;gBAAQ;YAAM;QAC5B;;0BAEA,8OAAC;gBAAO,OAAM;0BAAG;;;;;;YAEhB,QAAQ,GAAG,CAAC,CAAA,MACX;oBAAC;oBAAM;oBAAM;oBAAc;oBAAY;iBAAW,CAAC,GAAG,CAAC,CAAA,sBACrD,8OAAC;wBAA+B,OAAO,GAAG,IAAI,CAAC,EAAE,OAAO;;4BACrD;4BAAI;4BAAG;;uBADG,GAAG,IAAI,CAAC,EAAE,OAAO;;;;;;;;;;;AAOxC"}},
    {"offset": {"line": 248, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/emiis/Desktop/Development/Eventos/eventos-2026/src/app/lib/chart.ts"],"sourcesContent":["import {\r\n  Chart as ChartJS,\r\n  CategoryScale,\r\n  LinearScale,\r\n  BarElement,\r\n  ArcElement,\r\n  Tooltip,\r\n  Legend,\r\n} from \"chart.js\";\r\n\r\nChartJS.register(\r\n  CategoryScale,\r\n  LinearScale,\r\n  BarElement,\r\n  ArcElement,\r\n  Tooltip,\r\n  Legend\r\n);\r\n"],"names":[],"mappings":";AAAA;;AAUA,qKAAO,CAAC,QAAQ,CACd,6KAAa,EACb,2KAAW,EACX,0KAAU,EACV,0KAAU,EACV,uKAAO,EACP,sKAAM"}},
    {"offset": {"line": 256, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/emiis/Desktop/Development/Eventos/eventos-2026/src/components/Graficos.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport \"@/app/lib/chart\"; // üî• registra o Chart.js\r\nimport { Bar } from \"react-chartjs-2\";\r\nimport { useEvents } from \"@/app/hooks/useEvents\";\r\n\r\nexport default function Graficos() {\r\n  const { eventos, colunas } = useEvents();\r\n\r\n  if (!eventos.length || !colunas.length) {\r\n    return <p>Sem dados para exibir gr√°ficos</p>;\r\n  }\r\n\r\n  // escolhe automaticamente a primeira coluna categ√≥rica\r\n  const eixoX = colunas[0];\r\n\r\n  // agrupa dados\r\n  const agrupado: Record<string, number> = {};\r\n\r\n  eventos.forEach(item => {\r\n    const valor = item[eixoX];\r\n    if (!valor) return;\r\n\r\n    agrupado[valor] = (agrupado[valor] || 0) + 1;\r\n  });\r\n\r\n  const data = {\r\n    labels: Object.keys(agrupado),\r\n    datasets: [\r\n      {\r\n        label: `Distribui√ß√£o por ${eixoX}`,\r\n        data: Object.values(agrupado),\r\n        backgroundColor: \"#4f46e5\",\r\n      },\r\n    ],\r\n  };\r\n\r\n  return (\r\n    <div style={{ width: \"100%\", maxWidth: 600 }}>\r\n      <Bar data={data} />\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA,mNAA0B,yBAAyB;AACnD;AACA;AAJA;;;;;AAMe,SAAS;IACtB,MAAM,EAAE,OAAO,EAAE,OAAO,EAAE,GAAG,IAAA,6IAAS;IAEtC,IAAI,CAAC,QAAQ,MAAM,IAAI,CAAC,QAAQ,MAAM,EAAE;QACtC,qBAAO,8OAAC;sBAAE;;;;;;IACZ;IAEA,uDAAuD;IACvD,MAAM,QAAQ,OAAO,CAAC,EAAE;IAExB,eAAe;IACf,MAAM,WAAmC,CAAC;IAE1C,QAAQ,OAAO,CAAC,CAAA;QACd,MAAM,QAAQ,IAAI,CAAC,MAAM;QACzB,IAAI,CAAC,OAAO;QAEZ,QAAQ,CAAC,MAAM,GAAG,CAAC,QAAQ,CAAC,MAAM,IAAI,CAAC,IAAI;IAC7C;IAEA,MAAM,OAAO;QACX,QAAQ,OAAO,IAAI,CAAC;QACpB,UAAU;YACR;gBACE,OAAO,CAAC,iBAAiB,EAAE,OAAO;gBAClC,MAAM,OAAO,MAAM,CAAC;gBACpB,iBAAiB;YACnB;SACD;IACH;IAEA,qBACE,8OAAC;QAAI,OAAO;YAAE,OAAO;YAAQ,UAAU;QAAI;kBACzC,cAAA,8OAAC,6JAAG;YAAC,MAAM;;;;;;;;;;;AAGjB"}},
    {"offset": {"line": 321, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/emiis/Desktop/Development/Eventos/eventos-2026/src/components/TabelaEventos.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEvents } from \"@/app/hooks/useEvents\";\r\n\r\nexport default function TabelaEventos() {\r\n  const { eventos, colunas } = useEvents();\r\n\r\n  if (!eventos.length) return null;\r\n\r\n  return (\r\n    <table>\r\n      <thead>\r\n        <tr>\r\n          {colunas.map(col => (\r\n            <th key={col}>{col}</th>\r\n          ))}\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        {eventos.map((ev, i) => (\r\n          <tr key={i}>\r\n            {colunas.map(col => (\r\n              <td key={col}>{ev[col]}</td>\r\n            ))}\r\n          </tr>\r\n        ))}\r\n      </tbody>\r\n    </table>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAIe,SAAS;IACtB,MAAM,EAAE,OAAO,EAAE,OAAO,EAAE,GAAG,IAAA,6IAAS;IAEtC,IAAI,CAAC,QAAQ,MAAM,EAAE,OAAO;IAE5B,qBACE,8OAAC;;0BACC,8OAAC;0BACC,cAAA,8OAAC;8BACE,QAAQ,GAAG,CAAC,CAAA,oBACX,8OAAC;sCAAc;2BAAN;;;;;;;;;;;;;;;0BAIf,8OAAC;0BACE,QAAQ,GAAG,CAAC,CAAC,IAAI,kBAChB,8OAAC;kCACE,QAAQ,GAAG,CAAC,CAAA,oBACX,8OAAC;0CAAc,EAAE,CAAC,IAAI;+BAAb;;;;;uBAFJ;;;;;;;;;;;;;;;;AASnB"}},
    {"offset": {"line": 384, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/emiis/Desktop/Development/Eventos/eventos-2026/src/app/page.tsx"],"sourcesContent":["\"use client\";\n\nimport UploadExcel from \"@/components/UploadExcel\";\nimport Filtros from \"@/components/Filtros\";\nimport Graficos from \"@/components/Graficos\";\nimport TabelaEventos from \"@/components/TabelaEventos\";\n\nexport default function Home() {\n  return (\n    <main className=\"container\">\n      <h1>Eventos 2026</h1>\n\n      <section className=\"card\">\n        <h2>Upload da Planilha</h2>\n        <UploadExcel />\n      </section>\n\n      <section className=\"card\">\n        <h2>Filtros</h2>\n        <Filtros />\n      </section>\n\n      <section className=\"card\">\n        <h2>Visualiza√ß√µes</h2>\n        <Graficos />\n      </section>\n\n      <section className=\"card\">\n        <h2>Dados</h2>\n        <TabelaEventos />\n      </section>\n    </main>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAOe,SAAS;IACtB,qBACE,8OAAC;QAAK,WAAU;;0BACd,8OAAC;0BAAG;;;;;;0BAEJ,8OAAC;gBAAQ,WAAU;;kCACjB,8OAAC;kCAAG;;;;;;kCACJ,8OAAC,4IAAW;;;;;;;;;;;0BAGd,8OAAC;gBAAQ,WAAU;;kCACjB,8OAAC;kCAAG;;;;;;kCACJ,8OAAC,wIAAO;;;;;;;;;;;0BAGV,8OAAC;gBAAQ,WAAU;;kCACjB,8OAAC;kCAAG;;;;;;kCACJ,8OAAC,yIAAQ;;;;;;;;;;;0BAGX,8OAAC;gBAAQ,WAAU;;kCACjB,8OAAC;kCAAG;;;;;;kCACJ,8OAAC,8IAAa;;;;;;;;;;;;;;;;;AAItB"}}]
}